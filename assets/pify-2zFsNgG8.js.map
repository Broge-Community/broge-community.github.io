{"version":3,"file":"pify-2zFsNgG8.js","sources":["../../node_modules/pify/index.js"],"sourcesContent":["'use strict';\n\nconst processFn = (fn, opts) => function () {\n\tconst P = opts.promiseModule;\n\tconst args = new Array(arguments.length);\n\n\tfor (let i = 0; i < arguments.length; i++) {\n\t\targs[i] = arguments[i];\n\t}\n\n\treturn new P((resolve, reject) => {\n\t\tif (opts.errorFirst) {\n\t\t\targs.push(function (err, result) {\n\t\t\t\tif (opts.multiArgs) {\n\t\t\t\t\tconst results = new Array(arguments.length - 1);\n\n\t\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\n\t\t\t\t\t\tresults[i - 1] = arguments[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tresults.unshift(err);\n\t\t\t\t\t\treject(results);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(results);\n\t\t\t\t\t}\n\t\t\t\t} else if (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\targs.push(function (result) {\n\t\t\t\tif (opts.multiArgs) {\n\t\t\t\t\tconst results = new Array(arguments.length - 1);\n\n\t\t\t\t\tfor (let i = 0; i < arguments.length; i++) {\n\t\t\t\t\t\tresults[i] = arguments[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve(results);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfn.apply(this, args);\n\t});\n};\n\nmodule.exports = (obj, opts) => {\n\topts = Object.assign({\n\t\texclude: [/.+(Sync|Stream)$/],\n\t\terrorFirst: true,\n\t\tpromiseModule: Promise\n\t}, opts);\n\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\t\treturn opts.include ? opts.include.some(match) : !opts.exclude.some(match);\n\t};\n\n\tlet ret;\n\tif (typeof obj === 'function') {\n\t\tret = function () {\n\t\t\tif (opts.excludeMain) {\n\t\t\t\treturn obj.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn processFn(obj, opts).apply(this, arguments);\n\t\t};\n\t} else {\n\t\tret = Object.create(Object.getPrototypeOf(obj));\n\t}\n\n\tfor (const key in obj) { // eslint-disable-line guard-for-in\n\t\tconst x = obj[key];\n\t\tret[key] = typeof x === 'function' && filter(key) ? processFn(x, opts) : x;\n\t}\n\n\treturn ret;\n};\n"],"names":["processFn","fn","opts","P","args","i","resolve","reject","err","result","results","pify","obj","filter","key","match","pattern","ret","x"],"mappings":"AAEA,MAAMA,EAAY,CAACC,EAAIC,IAAS,UAAY,CAC3C,MAAMC,EAAID,EAAK,cACTE,EAAO,IAAI,MAAM,UAAU,MAAM,EAEvC,QAASC,EAAI,EAAGA,EAAI,UAAU,OAAQA,IACrCD,EAAKC,CAAC,EAAI,UAAUA,CAAC,EAGtB,OAAO,IAAIF,EAAE,CAACG,EAASC,IAAW,CAC7BL,EAAK,WACRE,EAAK,KAAK,SAAUI,EAAKC,EAAQ,CAChC,GAAIP,EAAK,UAAW,CACnB,MAAMQ,EAAU,IAAI,MAAM,UAAU,OAAS,CAAC,EAE9C,QAASL,EAAI,EAAGA,EAAI,UAAU,OAAQA,IACrCK,EAAQL,EAAI,CAAC,EAAI,UAAUA,CAAC,EAGzBG,GACHE,EAAQ,QAAQF,CAAG,EACnBD,EAAOG,CAAO,GAEdJ,EAAQI,CAAO,CAEhB,MAAUF,EACVD,EAAOC,CAAG,EAEVF,EAAQG,CAAM,CAEnB,CAAI,EAEDL,EAAK,KAAK,SAAUK,EAAQ,CAC3B,GAAIP,EAAK,UAAW,CACnB,MAAMQ,EAAU,IAAI,MAAM,UAAU,OAAS,CAAC,EAE9C,QAASL,EAAI,EAAGA,EAAI,UAAU,OAAQA,IACrCK,EAAQL,CAAC,EAAI,UAAUA,CAAC,EAGzBC,EAAQI,CAAO,CACpB,MACKJ,EAAQG,CAAM,CAEnB,CAAI,EAGFR,EAAG,MAAM,KAAMG,CAAI,CACrB,CAAE,CACF,EAEA,IAAAO,EAAiB,CAACC,EAAKV,IAAS,CAC/BA,EAAO,OAAO,OAAO,CACpB,QAAS,CAAC,kBAAkB,EAC5B,WAAY,GACZ,cAAe,OACf,EAAEA,CAAI,EAEP,MAAMW,EAASC,GAAO,CACrB,MAAMC,EAAQC,GAAW,OAAOA,GAAY,SAAWF,IAAQE,EAAUA,EAAQ,KAAKF,CAAG,EACzF,OAAOZ,EAAK,QAAUA,EAAK,QAAQ,KAAKa,CAAK,EAAI,CAACb,EAAK,QAAQ,KAAKa,CAAK,CAC3E,EAEC,IAAIE,EACA,OAAOL,GAAQ,WAClBK,EAAM,UAAY,CACjB,OAAIf,EAAK,YACDU,EAAI,MAAM,KAAM,SAAS,EAG1BZ,EAAUY,EAAKV,CAAI,EAAE,MAAM,KAAM,SAAS,CACpD,EAEEe,EAAM,OAAO,OAAO,OAAO,eAAeL,CAAG,CAAC,EAG/C,UAAWE,KAAOF,EAAK,CACtB,MAAMM,EAAIN,EAAIE,CAAG,EACjBG,EAAIH,CAAG,EAAI,OAAOI,GAAM,YAAcL,EAAOC,CAAG,EAAId,EAAUkB,EAAGhB,CAAI,EAAIgB,CACzE,CAED,OAAOD,CACR","x_google_ignoreList":[0]}